# TeamCode Tunable Directory

This directory clusters every adjustable value in `TeamCode` by what the driver station team actually tunes—launcher speed, drivetrain motion, intake flow, vision alignment, etc.—instead of by source file. Each table calls out where a number lives, whether it affects **TeleOp**, **Autonomous**, or **Both**, how the robot behaves when it changes, and which copy to edit when multiple values interact.

**2025-12-31 update:** No new tunables were introduced; documentation refreshed to reflect Auto dashboard pose caching and pose-handoff fixes.
**2025-12-30 update:** Added Limelight fusion seeding and adaptive correction tunables to keep long-distance tag reacquire stable while converging quickly, including the opt-in init vision seed toggle.

> **How to read the tables**
>
> * **Parameter** — Name of the constant, field, or call that you edit in code.
> * **Set in** — File and class where the authoritative value is defined.
> * **Impacts** — Whether TeleOp, Autonomous, or Both modes feel the change.
> * **What it controls** — Operational context for the tunable.
> * **Tune here vs. elsewhere** — Override relationships so you know which location “wins.”
> * **Sample adjustments** — Common tweaks and why you might choose them.

## Launcher speed & flywheel control

| Parameter | Set in | Impacts | What it controls | Tune here vs. elsewhere | Sample adjustments |
| --- | --- | --- | --- | --- | --- |
| `AutoRpmConfig.CALIBRATION_DISTANCES_IN[]` / `CALIBRATION_RPMS[]` | `config/AutoRpmConfig.java` | Both | Complete AutoSpeed calibration table (defaults: 35/37/60/67/82/100 in → 2600/2500/2550/2750/3050/3800 RPM). Controller linearly interpolates between entries and clamps outside. | `AutoRpmConfig.apply(...)` copies the arrays into `LauncherAutoSpeedController` every TeleOp init and BaseAuto startup. Provide any N ≥ 2 points; edit here so TeleOp + Auto stay aligned. | Insert additional points (e.g., 45 in → 2650 RPM) when new standoffs emerge, or tweak existing pairs after retuning vision distance scaling. |
| `AutoRpmConfig.SMOOTH_ALPHA` | `config/AutoRpmConfig.java` | Both | Exponential smoothing applied to RPM updates. | Overrides the controller’s internal `smoothingAlpha`. Change here to keep Auto and TeleOp aligned. | `0.05` for snappier response, `0.25` to calm oscillations. |
| `AutoRpmConfig.DEFAULT_NO_TAG_RPM` | `config/AutoRpmConfig.java` | Both | RPM held when AutoSpeed is active but no AprilTag distance is available yet. | Seeds the launcher before the first lock; once vision has produced an RPM, AutoSpeed now holds that last computed value through tag dropouts. Update alongside the anchor points to match your preferred standby shot. | Raise to `4600 RPM` if your near shot prefers a hotter standby; drop toward `4300 RPM` to ease battery load during vision dropouts. |
| `LauncherAutoSpeedController.calibrationDistancesIn[]` / `calibrationSpeedsRpm[]` | `control/LauncherAutoSpeedController.java` | Both | Backup defaults for the AutoSpeed calibration table (only used if `AutoRpmConfig.apply(...)` is skipped). | Tune via `AutoRpmConfig` for production. Adjust here only when doing isolated lab tests without the config helper. | Mirror any experimental table here before promoting values into `AutoRpmConfig`. |
| `LauncherAutoSpeedController.smoothingAlpha` | `control/LauncherAutoSpeedController.java` | Both | Controller-local smoothing constant. | Immediately replaced by `AutoRpmConfig.SMOOTH_ALPHA`; keep equal so local tests mirror real play. | Match `AutoRpmConfig` while experimenting. |
| `SharedRobotTuning.INITIAL_AUTO_DEFAULT_SPEED` | `config/SharedRobotTuning.java` | Both (seed) | Starting RPM before the first AprilTag lock. | Central value feeds Auto helpers and `assist/AutoAimSpeed`; TeleOp copies it via `TeleOpDriverDefaults.INITIAL_AUTO_DEFAULT_SPEED`. Change it here unless you need a TeleOp-only divergence. | `2800 RPM` for long fields; `2200 RPM` for short volleys. |
| `TeleOpDriverDefaults.INITIAL_AUTO_DEFAULT_SPEED` | `config/TeleOpDriverDefaults.java` | TeleOp | Local override of the seed RPM. | Overrides TeleOp only; Autonomous and `AutoAimSpeed` stay on the shared value. Only edit when drivers want a different opening RPM than Auto. | `2400 RPM` if TeleOp wants faster spin-up than Auto. |
| `LauncherTuning.RPM_MIN` / `RPM_MAX` | `config/LauncherTuning.java` | Both | Software clamp on any RPM request. | Applies after all other tunables. Lowering `RPM_MAX` here limits both AutoSpeed and manual RPM. | Drop max to `5500` if motors saturate; raise min to `200` to keep wheels spinning. |
| `LauncherTuning.PID_P` / `PID_I` / `PID_D` / `PID_F` | `config/LauncherTuning.java` | Both | Velocity loop gains sent to the REV Hub. | Shared across all modes; tune here so Auto and TeleOp remain stable together. | Increase `P` to `12` for heavier wheels; add `D≈0.5` when overshooting. |
| `LauncherTuning.AT_SPEED_TOLERANCE_RPM` | `config/LauncherTuning.java` | Both | Launcher’s own “ready” window. | Used when no custom tolerance is provided; coordinate with `SharedRobotTuning.RPM_TOLERANCE`. | Tighten to `60 RPM` for accuracy; loosen to `120 RPM` if jittery. |
| `LauncherTuning.MANUAL_RPM_STEP` | `config/LauncherTuning.java` | TeleOp | D-pad step applied to manual RPM adjustments when AutoSpeed is OFF **and Manual Lock is engaged**. | Matches RPM Test mode by default; reduce for finer nudges or raise for quicker swings. | `25 RPM` for precise tweaks; `75 RPM` for rapid tuning. |
| `TeleOpDriverDefaults.AUTORPM_TWEAK_SCALE` | `config/TeleOpDriverDefaults.java` | TeleOp | Percentage applied per D-pad left/right press while AutoSpeed is enabled to nudge the AutoRPM output. | Scales the AutoSpeed calculation without changing the calibration table; clamps inside TeleOp to a safe range. | `0.02` (2%) default; bump to `0.03` for faster tweaks or lower for finer steps. |
| `TeleOpDriverDefaults.RPM_BOTTOM` / `RPM_TOP` | `config/TeleOpDriverDefaults.java` | TeleOp | Manual-mode RPM slider limits. | Independent of the launcher clamp; ensure `RPM_TOP ≤ LauncherTuning.RPM_MAX`. | Set bottom to `500 RPM` to keep wheels warm; lower top to `5500 RPM` if browning out. |
| `SharedRobotTuning.RPM_TOLERANCE` | `config/SharedRobotTuning.java` | Both | Global readiness window for AutoSpeed. | Overrides `BaseAuto.rpmTol()` and seeds `assist/AutoAimSpeed.rpmTolerance`; TeleOp follows unless it overrides locally. Tune here for shared behavior. | `35 RPM` for precise volleys; `75 RPM` if batteries sag. |
| `SharedRobotTuning.RPM_READY_SETTLE_MS` | `config/SharedRobotTuning.java` | Both | Minimum time inside the RPM window before launcher readiness is declared. | `BaseAuto.readyLauncherUntilReady(...)` and TeleOp status lights honor this settle timer; keep modest so volleys stay responsive. | `100–200 ms` covers most flywheel recovery checks. |
| `assist/AutoAimSpeed.rpmTolerance` | `assist/AutoAimSpeed.java` | Both | AutoAim-specific readiness window. | Defaults to `SharedRobotTuning.RPM_TOLERANCE`; overriding here affects AutoAim only, not the rest of AutoSpeed usage. | Narrow to `30 RPM` when AutoAim needs stricter gating. |

## Shot cadence, feed, and eject

| Parameter | Set in | Impacts | What it controls | Tune here vs. elsewhere | Sample adjustments |
| --- | --- | --- | --- | --- | --- |
| `FeedTuning.INTAKE_ASSIST_MS` | `config/FeedTuning.java` | Both | How long intake runs after a feed when previously off. | Central value now lives alongside feed cadence so Auto and TeleOp share one number; TeleOp copies it via `TeleOpDriverDefaults.INTAKE_ASSIST_MS`. | `350 ms` for sticky artifacts; `200 ms` when intake clears fast. |
| `TeleOpDriverDefaults.INTAKE_ASSIST_MS` | `config/TeleOpDriverDefaults.java` | TeleOp | TeleOp-only override of intake assist. | Mirrors `FeedTuning.INTAKE_ASSIST_MS`; override here only when drivers want a different assist duration than Auto. | Extend to `320 ms` if TeleOp wants extra assurance. |
| `FeedTuning.FIRE_POWER` | `config/FeedTuning.java` | Both | Motor power used to push an artifact. | Shared by Auto `fireN(count, requireLock)` / `AutoSequence.fire(...)` and TeleOp feed buttons. | Bump to `1.0` when artifacts stick; lower to `0.75` to reduce jams. |
| `FeedTuning.FIRE_TIME_MS` | `config/FeedTuning.java` | Both | Time the feed motor runs per shot. | Single source for Auto + TeleOp. | `450 ms` after tightening timing; `650 ms` if artifacts hesitate. |
| `FeedTuning.MIN_CYCLE_MS` | `config/FeedTuning.java` | Both | Cooldown between shots. | Keep consistent so Auto and TeleOp pacing match. | `200 ms` when hardware tolerates quick cycles. |
| `FeedTuning.IDLE_HOLD_POWER` | `config/FeedTuning.java` | Both | Counter-rotation power while the feed is idle. | `Feed` enables this only after START via `setIdleHoldActive(true)` so INIT stays still. | Defaults to `-0.5` to hold artifacts firmly; back off toward `-0.3` if gears chatter. |
| `FeedStopConfig.USE_AUTO_SCALE` | `config/FeedStopConfig.java` | Both | Optional toggle that lets Feed compute a minimal ServoImplEx.scaleRange() window after homing. | Defaults to `false` (full 300° span with no scaling). Enable when you want a tighter sweep; Feed will clamp angles and warn if bounds prevent the requested span. | Set `true` only after verifying the servo can reach HOLD/RELEASE plus safety margin without binding. |
| `FeedStopConfig.DIRECTION_SIGN` | `config/FeedStopConfig.java` | Both | Sets which servo direction (+/-) moves toward RELEASE relative to the homed zero. | Flip to `-1` when the linkage makes increasing PWM close the gate instead of opening it. | Set to `-1` if the gate opens when commanding smaller positions. |
| `FeedStopConfig.SAFE_PRESET_OPEN_DEG` | `config/FeedStopConfig.java` | Both | How far the guarded homing sweep opens (CW) before reversing toward the BLOCK stop. | Raise for linkages that need more clearance before approaching the stop; lower if hardware already starts near the top. | `45°` when the arm sags low at boot; `30°` if homing finishes quickly. |
| `FeedStopConfig.MAX_HOME_TRAVEL_DEG` | `config/FeedStopConfig.java` | Both | Safety cap on the total homing travel while searching for the BLOCK stop. | Increase slightly if the safe-open sweep aborts before reaching the stop; decrease to limit motion on fragile linkages. | `140°` for wide-swing servos, `100°` for tighter mechanisms. |
| `FeedStopConfig.HOME_BACKOFF_DEG` | `config/FeedStopConfig.java` | Both | Degrees to back away from the hard stop after homing so the servo rests quietly at zero. | Raise when the gate still buzzes against the stop; lower for tighter closure once chatter disappears. | Bump to `3°` if the servo hums; trim toward `1°` when the gate feels too loose. |
| `FeedStopConfig.HOME_DWELL_MS` | `config/FeedStopConfig.java` | Both | Time spent pressed against the BLOCK stop before backing off during homing. | Extend for slower servos so they settle before establishing zero; shorten once homing feels repeatable. | Raise to `180 ms` if the servo coasts; cut toward `80 ms` if it sits longer than necessary. |
| `FeedStopConfig.HOLD_ANGLE_DEG` | `config/FeedStopConfig.java` | Both | Blocking angle (relative to homed zero) that the gate holds between shots. | Adjust when you need a tighter seal or a looser hold once homed—StopAll still commands the servo back to 0°. | Raise toward `35°` if artifacts sneak through; drop toward `20°` if the blocker presses too hard. |
| `FeedStopConfig.RELEASE_ANGLE_DEG` | `config/FeedStopConfig.java` | Both | Release target angle relative to the homed zero position. | Adjust here to change how far the gate opens for every TeleOp/Auto feed—runtime scaling pairs this with `HOLD_ANGLE_DEG` and `SAFETY_MARGIN_DEG` to keep both angles reachable. | Increase toward `120°` when the release arm needs more sweep; drop toward `100°` if you want quicker closure. |
| `FeedStopConfig.SOFT_CCW_LIMIT_DEG` / `SOFT_CW_LIMIT_DEG` | `config/FeedStopConfig.java` | Both | Software clamps for the FeedStop servo; all degree commands are pinned inside this range. | Widen slightly if linkage allows more travel; tighten if hardware risks binding near either end. | Keep `0°` / `170°` for typical blockers; trim the CW limit if gears grind near full release. |
| `FeedStopConfig.SAFETY_MARGIN_DEG` | `config/FeedStopConfig.java` | Both | Extra headroom applied when auto-sizing the servo travel so commands never demand the full PWM window. | Increase when the servo or linkage needs more cushion near the endpoints; decrease if you want the auto-sizer to use more of the available span. | Raise to `8°` if hardware flexes at extremes; drop toward `3°` when the gate is well constrained. |
| `FeedStopConfig.RELEASE_HOLD_MS` | `config/FeedStopConfig.java` | Both | Time the gate stays at RELEASE after a fire request before returning to BLOCK. TeleOp now waits at least this long before converting LB holds into continuous streaming so taps keep a single-shot cadence; a `0` value still fires single taps while allowing immediate holds. | Shared by TeleOp + Auto; update here to change hold duration for all fire routines. | Extend to `325 ms` if artifacts linger; trim toward `200 ms` when recovery needs to start sooner. |
| `FeedStopConfig.FIRE_LEAD_MS` | `config/FeedStopConfig.java` | Both | Lead time between servo release and feed motor power. | Central value ensures TeleOp and Auto honor the same pre-feed delay. | Increase to `70 ms` if the arm needs more head start; reduce to `30 ms` for faster cadence once hardware proves reliable. |

> **Note:** Autonomous volley spacing is now passed directly to `AutoSequence.fire(... betweenShotsMs)`. Adjust cadence inside each auto routine instead of a shared tunable.
> **Note:** The temporary AutoAim assist that engages during LB feed holds now releases back to the driver’s prior AutoAim toggle as soon as continuous streaming stops; no tunable changes are required.
| `TeleOpEjectTuning.RPM` | `config/TeleOpEjectTuning.java` | TeleOp | Launcher RPM during eject routine. | TeleOp-only; Auto never calls eject. Tune here without affecting Auto. | `400 RPM` for gentle clears; `800 RPM` for stubborn jams. |
| `TeleOpEjectTuning.TIME_MS` | `config/TeleOpEjectTuning.java` | TeleOp | Duration of eject routine. | TeleOp only. | `600 ms` for quick clear, `1400 ms` for heavy debris. |

## AutoAim, targeting, and AprilTag alignment

| Parameter | Set in | Impacts | What it controls | Tune here vs. elsewhere | Sample adjustments |
| --- | --- | --- | --- | --- | --- |
| `SharedRobotTuning.TURN_TWIST_CAP` | `config/SharedRobotTuning.java` | Both | Maximum twist power for automatic aiming/turns. | Overrides `BaseAuto.turnTwistCap()` and seeds `AutoAimTuning.MAX_TWIST`. Tune centrally for consistent feel. | Raise to `0.45` for aggressive steering; drop to `0.25` if overshooting. |
| `AutoAimTuning.MAX_TWIST` | `config/AutoAimTuning.java` | Both | AutoAim-specific twist clamp. | Defaults to the shared cap; override here only if AutoAim needs a different cap than Auto turn helpers. | Increase slightly above shared cap for faster driver assists. |
| `AutoAimTuning.AUTO_AIM_SPEED_SCALE` | `config/AutoAimTuning.java` | TeleOp | Translation throttle applied while AutoAim is enabled. | TeleOp reads this directly; keep between 0–1 so drivers retain manageable movement during aim assist. | `0.15` for precision lining up, `0.40` if drivers want faster approaches. |
| `AutoAimTuning.LONG_SHOT_ENABLED` | `config/AutoAimTuning.java` | Both | Master switch for the alliance-biased long-shot lock window. | Set false to fall back to the symmetric ±tolerance window even beyond the distance cutover; when enabled, **RED locks negative bearings and BLUE locks positive bearings**. | Disable temporarily if range biasing feels unstable during calibration. |
| `AutoAimTuning.LONG_SHOT_DISTANCE_IN` | `config/AutoAimTuning.java` | Both | Distance cutover (inches) where the AutoAim lock window biases toward the alliance’s goal side for long volleys. | Adjust here to decide when the asymmetric deadband should engage; tolerance magnitude still comes from TagAim/SharedRobot tuning with RED favoring negative bearings and BLUE favoring positive bearings. | Lower to `85 in` for earlier biasing on shallow fields; raise toward `100 in` to keep symmetric windows longer. |
| `AutoAimTuning.INVERT_AIM_TWIST` | `config/AutoAimTuning.java` | Both | Optional sign flip applied once to AutoAim-generated twist before handing rotation to the drivebase so "+twist" rotates the robot right/clockwise per aim convention in TeleOp **and AUTO** without affecting manual stick twist. | Toggle after running the twist sign test in TeleOp; leave `false` unless drive hardware reports positive rotation in the opposite direction. | Set `true` if the +0.2 twist test spin turns the robot left/CCW. |
| `SharedRobotTuning.LOCK_TOLERANCE_DEG` | `config/SharedRobotTuning.java` | Auto | Acceptable AprilTag bearing error before firing. | Overrides `BaseAuto.lockTolDeg()` (replacing `DEF_LOCK_TOL_DEG`). Tune here to keep all auto routines consistent. | `0.5°` for precise shots; `1.5°` if heading drifts. |
| `SharedRobotTuning.LOCK_TOLERANCE_DEG_P480` | `config/SharedRobotTuning.java` | Auto | Lock tolerance override used while the 640×480 profile is active. | BaseAuto reads this automatically when `VisionAprilTag` runs P480 so coarse pose noise doesn’t stall volleys. | Start at `1.5°`; tighten only after verifying 480p bearings stay stable. |
| `SharedRobotTuning.LOCK_TOLERANCE_DEG_P720` | `config/SharedRobotTuning.java` | Auto | Lock tolerance override used while the 1280×720 profile is active. | BaseAuto swaps to this when autos request P720; keep aligned with the global tolerance unless 720p calibration justifies a tighter window. | Leave at `1.0°`; drop toward `0.75°` if long-range locks are rock solid. |
| `DriveTuning.TURN_TOLERANCE_DEG` | `config/DriveTuning.java` | Both | IMU turn completion tolerance. | Works with `LOCK_TOLERANCE_DEG`; keep both aligned. TeleOp braking also uses this. | Tighten to `0.5°` when Auto must be exact. |
| `TagAimTuning.CLAMP_ABS` | `config/TagAimTuning.java` | Both | Twist limits inside the AprilTag controller. | Ensure the clamp (default ±`0.6`) is ≥ `AutoAimTuning.MAX_TWIST` so AutoAim isn’t double-limited. | Expand to `±0.8` for faster centering. |
| `TagAimTuning.KP` / `KD` | `config/TagAimTuning.java` | Both | PD gains for tag-based twist corrections. | Shared by AutoAim and BaseAuto; tune here for consistent tracking. | `0.025/0.004` for quicker reaction; dial back `kD` if noisy. |
| `SharedRobotTuning.RPM_TOLERANCE` (see above) | `config/SharedRobotTuning.java` | Both | Launch readiness gating for AutoAim + Auto. | Shared reference for all aim subsystems; coordinate with `LauncherTuning.AT_SPEED_TOLERANCE_RPM`. | As above. |
| `AutoAimTuning.INITIAL_AUTO_DEFAULT_SPEED` | `config/AutoAimTuning.java` | Both | AutoAim’s seed RPM before first tag fix. | Mirrors `SharedRobotTuning.INITIAL_AUTO_DEFAULT_SPEED`; override here if AutoAim needs a unique seed. | Match TeleOp override when diverging from shared value. |

## Vision & range calibration

| Parameter | Set in | Impacts | What it controls | Tune here vs. elsewhere | Sample adjustments |
| --- | --- | --- | --- | --- | --- |
| `VisionConfig.VISION_SOURCE` | `config/VisionConfig.java` | Both | Global selector between Limelight (default) and the legacy webcam pipeline. | Routed through `VisionTargetProvider` implementations in TeleOp and BaseAuto; change only when running fallback webcam builds. | Keep at `LIMELIGHT` for competition; flip to `WEBCAM_LEGACY` if Limelight is unavailable. |
| `VisionConfig.LimelightAimLock.AIM_LOCK_STALE_MS` / `AIM_SWITCH_TX_HYST_DEG` / `AIM_SWITCH_CONFIRM_FRAMES` | `config/VisionConfig.java` | Both | Aim lock stale window (ms), tx hysteresis (deg) before swapping samples, and consecutive frames required before locking a new tx. | LimelightTargetProvider uses these to hold goal locks briefly, derive per-fiducial pose-based tx when needed, and only accept stable samples from the alliance goal tag. | Raise stale ms to extend lock grace on brief dropouts; increase hysteresis or confirm frames if aim bounces. |
| `VisionConfig.LIMELIGHT_RANGE_SCALE` | `config/VisionConfig.java` | Both | Scalar applied to Limelight-derived heading/distance results to correct calibration drift. | Used by `LimelightTargetProvider` when computing range from botpose; adjust after tape-measure verification. | Tweak slightly above/below `1.0` to align Limelight distances with real measurements. |
| `VisionConfig.LimelightFusion.GOAL_AIM_PIPELINE_INDEX` / `OBELISK_PIPELINE_INDEX` / `POLL_HZ` / `ENABLE_POSE_FUSION` / `PREFER_MEGA_TAG_2` | `config/VisionConfig.java` | Both | Limelight AprilTag pipeline indices for goal aiming vs. obelisk observation, polling cadence (Hz), on/off switch for XY odometry fusion, and MegaTag2 preference. | Auto asserts the obelisk pipeline during INIT/motif checks and re-asserts the goal pipeline while scanning/aiming; polling and fusion settings still gate botpose use. TeleOp reads the compatibility alias `PIPELINE_INDEX` which maps to the goal aim pipeline by default. | Keep both pipelines aligned to the primary AprilTag mode (default 0) unless you host separate Limelight profiles; keep fusion enabled with `PREFER_MEGA_TAG_2=true` for highest-quality pose feed. |
| `VisionConfig.LimelightFusion.ENABLE_LOCALIZATION_TAG_FILTER` / `LOCALIZATION_VALID_TAG_IDS` / `LOCALIZATION_FILTER_APPLY_EVERY_FRAME` / `LOCALIZATION_EXCLUDED_TAG_IDS` | `config/VisionConfig.java` | Both | Limelight fiducial whitelist filter for localization, applied every frame when enabled, with explicit exclusions for obelisk tags. | Odometry applies the filter before fusing botpose, keeping obelisk tags out of localization while leaving aim priority independent. | Leave enabled with `{20,24}` and excluded `{21,22,23}` (from `VisionConfig.OBELISK_TAG_IDS`) for official fields; disable only when testing localization on additional tags. |
| `VisionConfig.LimelightFusion.DEBUG_REJECT_ON_OBELISK` | `config/VisionConfig.java` | Both | Debug override that rejects MT2 fusion frames whenever any obelisk tag is visible, regardless of localization filters. | Odometry still reports obelisk visibility + IDs in the VisionDbg line; disabling this toggle allows drift reproduction for testing. | Keep `true` for competition; set `false` only when intentionally validating obelisk-induced drift. |
| `VisionConfig.LimelightFusion.INIT_ALLOW_VISION_SEED` | `config/VisionConfig.java` | Auto | Allows INIT vision seeding to override the explicit start pose before START. | BaseAuto keeps the start pose unless this toggle is true; use it only when you trust the camera more than staging measurements. | Keep `false` for deterministic starts; set `true` during calibration sessions when you want tags to refine the seed. |
| `VisionConfig.LimelightFusion.LL_NT_NAME` | `config/VisionConfig.java` | Both | Limelight table name used by LimelightHelpers static orientation calls (`SetRobotOrientation`/`setRobotOrientation`) and fiducial filter overrides (`SetFiducialIDFiltersOverride`/`setFiducialIDFiltersOverride`) for MT2 yaw feed and localization filtering. | Must match the Limelight’s NT root table; keep aligned with the device name so yaw feed and localization filters apply. | Keep at `limelight` unless the Limelight NT name changes. |
| `VisionConfig.LimelightFusion.USE_LLRESULT_BOTPOSE_MT2` | `config/VisionConfig.java` | Both | Optional escape hatch to use `LLResult.getBotpose_MT2()` for localization when the SDK provides it. | Defaults false; only enable after validating that the SDK’s MT2 getter is stable in FTC builds. | Keep `false` unless testing MT2 getter behavior. |
| `VisionConfig.LimelightFusion.LL_FUSION_FIELD_BOUNDS_IN` | `config/VisionConfig.java` | Both | Deprecated legacy bound for Limelight botpose fusion (inches). | Superseded by `FIELD_HALF_IN - BOUNDS_MARGIN_IN` in Odometry; keep for historical reference only. | Leave unchanged; use `BOUNDS_MARGIN_IN` instead. |
| `LimelightPipelineAutoSelectConfig.ENABLE_LIMELIGHT_PIPELINE_AUTOSELECT` | `config/LimelightPipelineAutoSelectConfig.java` | Both | Master switch for INIT-time Limelight pipeline auto-selection. | Auto-selection only runs when this is true; set false to keep the existing fixed pipeline behavior. | Set `false` if you want to lock to the default pipeline during a lighting test. |
| `LimelightPipelineAutoSelectConfig.LIMELIGHT_PIPELINE_PROFILES` | `config/LimelightPipelineAutoSelectConfig.java` | Both | Ordered list of pipelineIndex:description entries evaluated during INIT. | This string is the single source of truth for auto-selection; edit here to add or rename pipelines without code changes. | Add `;3:Scrimmage Field` to test a new lighting profile. |
| `LimelightPipelineAutoSelectConfig.PIPELINE_SETTLE_MS` / `PIPELINE_SAMPLE_COUNT` / `PIPELINE_SAMPLE_INTERVAL_MS` / `PIPELINE_MAX_SELECTION_MS` | `config/LimelightPipelineAutoSelectConfig.java` | Both | Timing + sampling controls for INIT pipeline evaluation (settle delay, frames sampled, inter-sample delay, and overall timeout). | Auto-selection uses these values to decide when to sample and when to time out; tune them together to balance speed vs. confidence. | Increase settle to `350 ms` for slower pipeline switches; raise sample count to `8` for noisy fields; extend max selection to `3000 ms` if INIT has extra time. |
| `LimelightPipelineAutoSelectConfig.PIPELINE_MIN_GOAL_HITS` | `config/LimelightPipelineAutoSelectConfig.java` | Both | Minimum number of goal-tag detections required to qualify a pipeline. | Used by the auto-selector to prevent one-frame lucky wins; combine with sample count for stability. | Raise to `3` in dim lighting to demand more repeats before a pipeline can win. |
| `LimelightPipelineAutoSelectConfig.PIPELINE_MIN_OPP_GOAL_HITS` | `config/LimelightPipelineAutoSelectConfig.java` | Both | Minimum number of opposing goal detections required to qualify a pipeline. | Applies only when goal hits do not qualify; higher values reduce accidental opposing-tag wins. | Set to `2–3` so opposing detections must repeat to rank. |
| `LimelightPipelineAutoSelectConfig.PIPELINE_REQUIRE_GOAL_ONLY` | `config/LimelightPipelineAutoSelectConfig.java` | Both | Optional toggle that ignores opposing goal hits entirely during pipeline ranking. | When true, only the alliance goal tag can qualify a pipeline; opposing hits are treated as rank 0. | Enable `true` when opposing tags appear frequently in peripheral views. |
| `LimelightPipelineAutoSelectConfig.PIPELINE_FALLBACK_INDEX` | `config/LimelightPipelineAutoSelectConfig.java` | Both | Pipeline index to use when auto-selection fails or times out. | Replaces the previous hard-coded fallback to pipeline 0; adjust when a different baseline profile is safer. | Keep at `0` for Meet Gym, or set to another known-good profile. |
| `LimelightPipelineAutoSelectConfig.PIPELINE_REMEMBER_LAST_GOOD_ENABLED` | `config/LimelightPipelineAutoSelectConfig.java` | Both | Enables the last-known-good memory fallback when no tags are available. | When true, successful pipeline locks update memory so tag-less autos can reuse the last good profile instead of the static fallback index. | Set `false` to force the configured fallback index every time tags are missing. |
| `LimelightPipelineAutoSelectConfig.PIPELINE_PERSIST_LAST_GOOD_ENABLED` | `config/LimelightPipelineAutoSelectConfig.java` | Both | Persists the last-known-good pipeline to SharedPreferences across RC app restarts. | Takes effect only when memory fallback is enabled; disable to keep last-good in memory only. | Set `false` during debugging if you want last-good to clear on RC restart. |
| `LimelightPipelineAutoSelectConfig.PIPELINE_USE_LAST_GOOD_ON_TIMEOUT` | `config/LimelightPipelineAutoSelectConfig.java` | Both | When true, timeout fallback prefers last-known-good instead of the static fallback index. | Applies only to timeouts; no-tag failures still honor memory fallback when enabled. | Set `false` to force timeouts to use the static fallback index. |
| `LimelightTargetProvider.GOAL_ACQUIRE_FRAMES` / `GOAL_LOST_FRAMES` / `GOAL_HOLD_MS` | `vision/LimelightTargetProvider.java` | Auto | Hysteresis for Limelight goal visibility and held tx samples (consecutive frames to acquire, frames to drop, and the 150 ms tx hold). | Drives the smoothed goal-visible flag + tx fed into `TagAimController`/`BaseAuto` so AUTO scans do not thrash when a single frame drops. | Increase `GOAL_LOST_FRAMES` or `GOAL_HOLD_MS` to tolerate longer flickers; raise `GOAL_ACQUIRE_FRAMES` if false positives appear. |
| `VisionConfig.LimelightFusion.MIN_VALID_FRAMES` / `MAX_VISION_AGE_MS` / `YAW_MAX_AGE_MS` | `config/VisionConfig.java` | Both | Frame-quality gates: require consecutive valid frames, reject stale botpose results older than the age limit, and cap how old yaw feed can be when declaring MT2 active. | Protects odometry from sporadic detections; enforced inside `Odometry.applyLimelightFusion`. | Raise `MIN_VALID_FRAMES` if flicker causes jumps; lower `MAX_VISION_AGE_MS` to ignore laggy results; keep `YAW_MAX_AGE_MS` tight (≈250 ms). |
| `VisionConfig.LimelightFusion.MAX_POS_JUMP_IN_NORMAL` / `REACQUIRE_AFTER_MS` / `MAX_POS_JUMP_IN_REACQUIRE` | `config/VisionConfig.java` | Both | Outlier rejection thresholds for normal tracking (inches), time before entering reacquire mode (ms), and the larger jump allowed immediately after reacquire. | Prevents teleporting after tag loss while still allowing recovery once vision returns. | Keep normal jump near 18"; enlarge reacquire window only if recovery is too slow. |
| `VisionConfig.LimelightFusion.REACQUIRE_STABLE_FRAMES` / `STABLE_MIN_TAGS` / `STABLE_POSE_DELTA_IN` | `config/VisionConfig.java` | Both | Consecutive stability requirements before switching from cautious to confident correction steps after reacquire. | Odometry uses the stable frame count to choose between cautious/fast correction clamps. | Raise `REACQUIRE_STABLE_FRAMES` if you see noisy snaps on first reacquire; lower `STABLE_POSE_DELTA_IN` to demand steadier tag solves. |
| `VisionConfig.LimelightFusion.MAX_POS_STEP_IN_CAUTIOUS` / `MAX_POS_STEP_IN_CONFIDENT` / `MAX_HEADING_STEP_DEG_CAUTIOUS` / `MAX_HEADING_STEP_DEG_CONFIDENT` / `FUSION_ALPHA_NORMAL` / `FUSION_ALPHA_REACQUIRE` | `config/VisionConfig.java` | Both | Per-update correction clamps (translation + heading) and blend factors for cautious vs. confident modes. | Limits each fusion step so odometry converges smoothly without snapping; cautious mode applies until the stable-frame gate is satisfied. | Start with small cautious steps (≈2") and larger confident steps (≈6") so corrections ramp in; trim alphas if the pose still jumps. |
| `VisionConfig.LimelightFusion.MAX_SPEED_IN_PER_S` / `MAX_TURN_RATE_DEG_PER_S` | `config/VisionConfig.java` | Both | Motion gates that skip fusion when driving faster than the speed cap (in/s) or turning faster than the rate cap (deg/s). | Avoids fusing botpose during aggressive maneuvers when wheel/IMU deltas are more reliable. | Lower the caps if vision corrections during fast strafes feel unstable. |
| `VisionConfig.LimelightFusion.FIELD_HALF_IN` / `APPLY_CENTER_SHIFT` / `BOUNDS_MARGIN_IN` / `AXIS_SWAP_XY` / `X_SIGN` / `Y_SIGN` / `X_OFFSET_IN` / `Y_OFFSET_IN` | `config/VisionConfig.java` | Both | Corner→center field shift (72 in), bounds margin (inches), axis swap/flip knobs, and additive XY offsets used to align Limelight botpose with the FTC center-origin frame. | Field-half shift runs after axis swap/sign and before offsets; bounds use `FIELD_HALF_IN - BOUNDS_MARGIN_IN` against final candidate pose. | `APPLY_CENTER_SHIFT=true` by default; `BOUNDS_MARGIN_IN=4.0` inches keeps a small safety buffer; offsets should remain small once validated. |
| `VisionConfig.LimelightFusion.DEBUG_VERBOSE_VISION` | `config/VisionConfig.java` | Both | Adds extra MT2 frame debug fields (`rawBlue`, `rawRed`) to the single-line `VisionDbg` telemetry. | Leave false for match use; enable only when diagnosing Limelight frame origin mismatches. | Toggle to `true` during pit debugging, then disable once frame alignment is verified. |
| `VisionTuning.RANGE_SCALE` | `config/VisionTuning.java` | Both (shared instance) | Multiplier that converts camera-estimated distance to real inches. | TeleOp and BaseAuto initialize the shared `VisionAprilTag` instance with this value, overriding the class default of `1.0`. Updating the scale affects any mode using that instance (Auto, AutoAim). | Calibrate by `trueDistance / measuredDistance`; typically near `1.0`. |
| `VisionTuning.VISION_ENVIRONMENT` | `config/VisionTuning.java` | Both | Lighting environment selector that maps the shared P480 fields to either the practice set or the bright event set while keeping the same profile name for TeleOp/Auto callers. | PRACTICE is the default to preserve home-field behavior; flip to EVENT before running on bright competition fields. | Set to `EVENT` when venue lights are bright; return to `PRACTICE` for the home arena. |
| `VisionTuning.P480_PRACTICE_EXPOSURE_MS` / `P480_PRACTICE_GAIN` / `P480_PRACTICE_WHITE_BALANCE_LOCK` | `config/VisionTuning.java` | Both | Practice-arena lighting values that populate the P480 exposure/gain/WB lock when `VISION_ENVIRONMENT = PRACTICE`. | Edit here to retune the home field; `VisionTuning.applyEnvironment()` copies these into the live P480 fields automatically. | Raise exposure toward `7 ms` or gain toward `90` if the practice field dims. |
| `VisionTuning.P480_EVENT_EXPOSURE_MS` / `P480_EVENT_GAIN` / `P480_EVENT_WHITE_BALANCE_LOCK` | `config/VisionTuning.java` | Both | Bright-event lighting values that populate the P480 exposure/gain/WB lock when `VISION_ENVIRONMENT = EVENT`. | Tune here after scrimmage testing; `VisionTuning.applyEnvironment()` maps these into P480 at init so callers keep using the same profile constants. | Lower gain toward `45` if event lighting is harsh; bump exposure to `3 ms` if tags are too dark. |
| `VisionTuning.P480_*` constants (via `VisionTuning.forMode(Mode.P480)`) | `config/VisionTuning.java` | Both | Logitech C270 **P480** performance profile: 640×480 @ 30 FPS, decimation, frame gate, min margin, and Brown–Conrady calibration; exposure/gain/WB lock come from the selected environment above (default 6 ms/85/lock on). | Update this block when tuning the Control Hub performance stream—TeleOp + Auto load it through `vision.applyProfile(VisionTuning.Mode.P480)` at startup. | Adjust decimation/processEveryN for CPU headroom; edit environment lighting sets for venue-specific brightness. |
| `VisionTuning.P720_*` constants (via `VisionTuning.forMode(Mode.P720)`) | `config/VisionTuning.java` | Both | Logitech C270 **P720** sighting profile: 1280×720 @ 20 FPS with tuned decimation, frame skipping, min margin, and calibrated intrinsics/distortion. | Edit these numbers after capturing your own 720p calibration export; TeleOp’s Gamepad 2 D-pad right applies this profile live. | Reduce `PROCESS_EVERY_N` to `1` if Control Hub CPU headroom allows full-frame processing. |
| `VisionTuning.DEFAULT_PROFILE` | `config/VisionTuning.java` | Both | Which profile loads at startup. | Change when you want TeleOp/Auto to boot into a different stream without editing code. | Set to `PROFILE_720` (or call `forMode(Mode.P720)`) for sighting-focused scrimmages. |
| `VisionTuning.DEFAULT_LIVE_VIEW_ENABLED` | `config/VisionTuning.java` | Both | Whether the Driver Station preview starts enabled. | TeleOp also exposes Gamepad 2 D-pad up/down to toggle live view at runtime; keep default `false` for performance. | Set `true` when tethered tuning sessions prefer immediate preview. |
| `VisionTuning.ENABLE_BRIGHTNESS_NORMALIZATION` | `config/VisionTuning.java` | Both | Global alpha/beta brightness normalization toggle that runs before AprilTag solve. | Leave `true` for most fields; set `false` only when raw frames already land on the target mean and you want legacy behavior. | Disable when testing SDK defaults or custom image processors. |
| `VisionTuning.TARGET_MEAN_BRIGHTNESS` / `BRIGHTNESS_TOLERANCE` | `config/VisionTuning.java` | Both | Target grayscale mean (0–255) and no-op band for brightness normalization. | Shared across profiles; keep tolerance wide enough to avoid flicker while still correcting dark/bright gyms. | Raise target toward `140` in dim venues; widen tolerance toward `12` to reduce per-frame changes. |
| `VisionTuning.MIN_CONTRAST_GAIN` / `MAX_CONTRAST_GAIN` | `config/VisionTuning.java` | Both | Clamp for contrast gain (alpha) applied during normalization. | Keep near `1.0` to avoid noise blow-up; widen only if vision stays stable. | Expand max toward `1.3` for low-contrast floors; raise min toward `0.95` to soften aggressive boosts. |
| `VisionTuning.MAX_BRIGHTNESS_OFFSET` | `config/VisionTuning.java` | Both | Maximum brightness shift (beta) allowed per frame. | Caps how far frames move toward target to avoid clipping and flicker. | Increase toward `35` for very dark fields; lower toward `15` if highlights clip. |
| `VisionTuning.BRIGHTNESS_SMOOTHING_WINDOW` / `MAX_PER_FRAME_ADJUST_DELTA` | `config/VisionTuning.java` | Both | Moving-average window (frames) and per-frame alpha/beta delta limit used to reduce thrash. | Larger windows slow response but stabilize brightness; delta cap limits how fast alpha/beta move. | Use window `7` for slowly changing gyms; lower delta to `0.05` to calm flicker. |
| `VisionTuning.ENABLE_ADAPTIVE_EQUALIZATION` / `ADAPTIVE_CLIP_LIMIT` / `ADAPTIVE_TILE_GRID_SIZE` | `config/VisionTuning.java` | Both | Optional CLAHE-style adaptive equalization after alpha/beta to lift uneven lighting. | Enable only when simple normalization is insufficient; tune clip limit and tile size for hardware speed and local contrast. | Clip limit `1.5–3.0` and tile `6–10` work for uneven stage lights; leave disabled for fastest pipeline. |
| `VisionTuning.ENABLE_INIT_EXPOSURE_TUNING` / `INIT_EXPOSURE_TARGET_MEAN` / `INIT_EXPOSURE_TOLERANCE` / `INIT_EXPOSURE_MAX_STEPS` | `config/VisionTuning.java` | Both | Optional INIT-time exposure nudge that takes a few frames, then applies up to N tiny exposure adjustments toward the target mean before START. | Only runs once per profile load and stops after the bounded steps or when inside the tolerance band. | Disable if camera ignores exposure commands; raise max steps to `3` for bigger corrections when the gym lighting shifts. |
| `VisionTuning.P480_DECIMATION` / `P480_MIN_DECISION_MARGIN` | `config/VisionTuning.java` | Both | Performance-stream AprilTag decimation and minimum decision margin (now `2.0` decimation, `10.0` margin). | Lower decimation and loosened margin stabilize detections in bright/dim gyms without touching exposure/gain. | Raise margin back toward `18` for extremely clean fields; increase decimation only if CPU load demands. |
| `VisionTuning.GOAL_VISIBILITY_ON_STREAK` / `GOAL_VISIBILITY_OFF_STREAK` | `config/VisionTuning.java` | Both | Frame streaks required to declare goal-tag visibility ON (3) and OFF (5) for smoothed AutoAim gating. | TeleOp and Auto read the smoothed flag so AutoAim toggles respect recent visibility instead of single-frame flicker. | Tighten to `2/3` for faster lock/unlock in calm lighting; loosen to `4/6` if tags flicker near range. |
| `VisionTuning.GOAL_TAG_P480_MARGIN_FLEX` / `GOAL_TAG_MIN_MARGIN_FLOOR` | `config/VisionTuning.java` | Both | Allows P480 aim checks to relax decision margin by `2` (not below `8`) while other profiles use their full margin. | Keeps AutoAim entry/hold usable on dim fields without editing the profile’s primary margin gate. | Set flex to `0` to match the profile margin exactly; raise floor if noisy detections slip through. |
| `VisionTuning.HEALTH_PASS_GOOD_RATIO` / `HEALTH_WARN_GOOD_RATIO` | `config/VisionTuning.java` | Both | Good/total detection ratios for PASS (≥0.80) and WARN (≥0.40) classifications in vision health sampling. | Used by TeleOp and diagnostics to label vision strength without blocking the loop. | Increase PASS ratio toward `0.9` when you expect near-constant tags during testing. |
| `VisionTuning.HEALTH_MARGIN_WARN_DELTA` / `HEALTH_BRIGHTNESS_WARN_DELTA` | `config/VisionTuning.java` | Both | Allowed margin shortfall (`2.0`) and brightness deviation (`±15`) before health checks flag FAIL or suggest exposure/gain tweaks. | Aligns with the health sampler suggestions in `TeleOp_Test_CameraStream` and TeleOp vision health telemetry. | Tighten margin delta to `1.0` for stricter pass bars; widen brightness delta to `20` if gyms vary loop-to-loop. |
| `VisionAprilTag.setPreviewShowsNormalized(boolean)` | `vision/VisionAprilTag.java` | TeleOp diagnostics | Optional toggle that copies normalized frames back to the Driver Station preview when the brightness processor is active. | Only enabled in `TeleOp_Test_CameraStream`; competitive TeleOp leaves it `false` to avoid touching the preview pipeline. | Turn `true` during pit lighting tests to see normalization effects live. |
| `TeleOpDriverDefaults.TELEMETRY_SMOOTH_A` | `config/TeleOpDriverDefaults.java` | TeleOp | Smoothing for range & heading telemetry. | TeleOp-only telemetry; Auto ignores it. | `0.4` to calm noisy readouts; `0.15` for responsiveness. |

## Drivetrain motion & positioning

| Parameter | Set in | Impacts | What it controls | Tune here vs. elsewhere | Sample adjustments |
| --- | --- | --- | --- | --- | --- |
| `SharedRobotTuning.DRIVE_MAX_POWER` | `config/SharedRobotTuning.java` | Auto | Power cap for auto translation helpers. | Overrides `BaseAuto.driveCap()` (replacing `DEF_DRIVE_CAP`). Tune here for global auto speed changes. | `0.65` when traction allows; `0.40` on slick tiles. |
| `DriveTuning.WHEEL_DIAMETER_IN` | `config/DriveTuning.java` | Both | Wheel circumference used for distance math. | Impacts odometry everywhere; keep synced with hardware. | `4.0 in` when swapping to 4″ wheels; re-validate after the encoder-delta move taper to keep distances consistent across speed caps. |
| `DriveTuning.TICKS_PER_REV` | `config/DriveTuning.java` | Both | Encoder ticks per motor revolution (assumes 1× counts; set 4× only if your hub reports quadrature). | Ensure matches installed cartridges to avoid drift. | `383.6` for 435 RPM goBILDA motors; divide by 4 if you were previously assuming quadrature counts. |
| `DriveTuning.GEAR_RATIO` | `config/DriveTuning.java` | Both | External gear ratio applied to wheels. | Change when drivetrain gearing changes. | `1.5` for 3:2 gearing. |
| `DriveTuning.STRAFE_CORRECTION` | `config/DriveTuning.java` | Both | Multiplier correcting mecanum strafing undershoot. | Shared for TeleOp strafing and Auto pathing; tune based on field tests. | Between `1.05–1.25` depending on carpet; confirm sideways moves stay true with the new RUN_USING encoder ramp. |
| `DriveTuning.AUTO_MOVE_MIN_SPEED` | `config/DriveTuning.java` | Auto | Floor for the linear speed taper inside `Drivebase.move(...)` while tracking encoder deltas in RUN_USING_ENCODER. | Raise if the robot stalls near the end of long moves; lower only if translation remains smooth at slower floors. | `0.18` on heavy drivetrains to keep wheels turning; stick with `0.15` if distance checks stay consistent. |
| `DriveTuning.AUTO_MOVE_WITH_TWIST_MIN_TRANS_SPEED` | `config/DriveTuning.java` | Auto | Minimum translation speed applied inside `Drivebase.moveWithTwist(...)` as it ramps down toward the target while blending twist PD. | Adjust alongside `AUTO_MOVE_MIN_SPEED` so tapered twist moves keep rolling instead of stuttering near completion. | Match `AUTO_MOVE_MIN_SPEED` unless twist steering needs more authority; e.g., `0.2` if turns stall late in the path. |
| `DriveTuning.TURN_KP` / `TURN_KD` | `config/DriveTuning.java` | Both | PD gains for IMU-based turns. | TeleOp brake-twist and Auto turns share these; adjust to taste. | Raise `KP` to `0.016` for quicker snaps; add `KD` up to `0.005` to reduce overshoot. |
| `DriveTuning.TURN_SETTLE_TIME_SEC` | `config/DriveTuning.java` | Both | Time inside tolerance before declaring a turn done. | Applies to any IMU turn helper; Auto benefits from extra stability, TeleOp from smoother braking. | `0.10 s` for faster autos; `0.20 s` if oscillating. |
| `SharedRobotTuning.LOGO_DIRECTION` / `USB_DIRECTION` | `config/SharedRobotTuning.java` | Both | REV Hub IMU mounting orientation. | Drivebase pulls both values when initializing the IMU; update here whenever the hub is remounted so yaw math stays correct. | `LOGO UP` / `USB RIGHT` for the FTC standard; flip to match new mounting. |

## Odometry & field layout

| Parameter | Set in | Impacts | What it controls | Tune here vs. elsewhere | Sample adjustments |
| --- | --- | --- | --- | --- | --- |
| `OdometryConfig.FIELD_LENGTH` / `FIELD_WIDTH` / `HUMAN_WALL_Y` / `TARGET_WALL_Y` / `LEFT_FIELD_X` / `RIGHT_FIELD_X` / `FIELD_CENTER_X` | `config/OdometryConfig.java` | Both | Defines the DECODE coordinate frame (0,0 at field center; +X right, +Y toward targets) and overall field bounds used by odometry and Dashboard drawings. | Single source for field geometry; adjust here to align with measurement tape or alternate practice fields. | Keep 144×144 in unless scaling a test map; shift the origin only when mirroring the field is unavoidable. |
| `OdometryConfig.ROBOT_HALF_LENGTH` / `ROBOT_HALF_WIDTH` | `config/OdometryConfig.java` | Both | Approximate robot footprint used when visualizing pose on Dashboard. | Update after chassis changes so drawings match physical size. | Increase to 10–11" if bumpers extend the frame. |
| `OdometryConfig.INTAKE_OFFSET_X` / `INTAKE_OFFSET_Y` | `config/OdometryConfig.java` | Both | Intake mouth offset from robot center used to align artifact pickup positions. | Edit after relocating the intake so Auto alignment remains accurate. | Raise `INTAKE_OFFSET_X` if the intake moves further forward on new brackets. |
| `OdometryConfig.LAUNCHER_OFFSET_X` / `LAUNCHER_OFFSET_Y` | `config/OdometryConfig.java` | Both | Launcher exit point relative to robot center for distance checks and drawing. | Update alongside hardware tweaks to keep pose-relative calculations correct. | Shift X negative if the launcher sits further back to the driver side. |
| `OdometryConfig.CAMERA_OFFSET_X` / `CAMERA_OFFSET_Y` / `CAMERA_OFFSET_Z` / `CAMERA_PITCH_DEG` / `CAMERA_YAW_DEG` | `config/OdometryConfig.java` | Both | Camera mounting position/orientation used to convert AprilTag detections into field-frame pose corrections. | Adjust after remounting the webcam; odometry uses these to blend tag poses. | Increase `CAMERA_OFFSET_X` if the camera moves forward; set `CAMERA_YAW_DEG` when the mount is angled left/right. |
| `OdometryConfig.TAG_RED_GOAL_X` / `TAG_RED_GOAL_Y` / `TAG_RED_GOAL_Z` / `TAG_RED_GOAL_YAW_DEG` / `TAG_BLUE_GOAL_X` / `TAG_BLUE_GOAL_Y` / `TAG_BLUE_GOAL_Z` / `TAG_BLUE_GOAL_YAW_DEG` | `config/OdometryConfig.java` | Both | 3D poses of the red/blue goal AprilTags (field X/Y, height, yaw) used to transform detections into robot-center poses for odometry fusion and Dashboard overlays. | Update after measuring the real field tag locations/heights; keep aligned with camera offsets so pose fusion remains accurate. | Shift X/Y when field build deviates from spec; tweak yaw/height if tag panels tilt or mount heights change. |
| `OdometryConfig.GOAL_RED_X` / `GOAL_RED_Y` / `GOAL_BLUE_X` / `GOAL_BLUE_Y` | `config/OdometryConfig.java` | Both | Field coordinates for the two goal AprilTags; anchor vision pose corrections and Dashboard markers. | Only change after re-measuring goal tag centers on the actual field. | Shift ±1–2" if calibration shows consistent offset to either goal. |
| `OdometryConfig.CLASSIFIER_RED_X` / `CLASSIFIER_RED_Y` / `CLASSIFIER_BLUE_X` / `CLASSIFIER_BLUE_Y` | `config/OdometryConfig.java` | Both | Locations of classifier plates for drawing and distance estimation. | Update when refined measurements are available. | Adjust ±3" if the plates on the practice field are offset from spec. |
| `OdometryConfig.GATE_*` / `GATE_ZONE_*` / `SECRET_TUNNEL_*` | `config/OdometryConfig.java` | Both | Coordinates of gates, trigger zones, and secret tunnels used for dashboard overlays and alignment helpers. | Keep unified with field crew measurements so visuals match reality. | Expand `GATE_ZONE_WIDTH`/`DEPTH` if crews want larger visual cue regions. |
| `OdometryConfig.LOADING_ZONE_*` / `BASE_ZONE_*` / `*_SIZE` | `config/OdometryConfig.java` | Both | Center points and sizes for loading/base squares shown on Dashboard. | Update when practice tiles shift or to mirror field layout. | Increase sizes slightly if you want bolder outlines for driver review. |
| `OdometryConfig.HUMAN_LAUNCH_LEFT_X` / `_Y` / `HUMAN_LAUNCH_RIGHT_X` / `_Y` / `HUMAN_LAUNCH_APEX_X` / `_Y` / `TARGET_LAUNCH_LEFT_X` / `_Y` / `TARGET_LAUNCH_RIGHT_X` / `_Y` / `TARGET_LAUNCH_APEX_X` / `_Y` / `HUMAN_LAUNCH_LINE_Y` / `TARGET_LAUNCH_LINE_Y` | `config/OdometryConfig.java` | Both | Triangle vertices and base-line Y coordinates for the human- and target-side launch zones rendered on Dashboard and used for distance checks. | Update when re-measuring the triangular launch areas; lines stay anchored to the base edge. | Shift apex points if triangles slide up/downfield or widen the base if field tape drifts. |
| `OdometryConfig.RED_ARTIFACT_ROW_START_X` / `BLUE_ARTIFACT_ROW_START_X` / `GPP_ROW_Y` / `PGP_ROW_Y` / `PPG_ROW_Y` / `ARTIFACT_SPACING_X` / `ARTIFACT_RADIUS` | `config/OdometryConfig.java` | Auto | Alliance-aware artifact row anchors, spacing, and draw radius (5" diameter artifacts) used by intake alignment helpers and Dashboard overlays. | Adjust when real field spacing shifts so intake alignment and drawings match physical artifact rows. | Tweak `ARTIFACT_SPACING_X` to 5.25" if practice rows sit wider; reduce/increase `RED/BLUE*_START_X` when rows shift sideways. |
| `OdometryConfig.POSE_FILTER_STRENGTH` / `IMU_HEADING_OFFSET_DEG` | `config/OdometryConfig.java` | Both | Exponential smoothing applied to fused poses and the global heading offset applied to the IMU yaw. | Tune here to balance odometry stability vs. responsiveness; keep the heading offset synced with IMU calibration. | Increase `POSE_FILTER_STRENGTH` toward 0.4 for snappier smoothing; leave heading offset at 0° unless IMU calibration drifts. |
| `OdometryConfig.ODOMETRY_DISTANCE_SCALE` | `config/OdometryConfig.java` | Both | Odometry-only calibration multiplier applied to wheel deltas before pose integration. | Applies only to fused pose integration; Auto drive distances still use raw wheel inches from `Drivebase`. | Default `4.0`; adjust if odometry under-reports travel without affecting Auto moves. |

## Autonomous routine pacing

| Parameter | Set in | Impacts | What it controls | Tune here vs. elsewhere | Sample adjustments |
| --- | --- | --- | --- | --- | --- |
| `BaseAuto.turnToGoalTag(direction, speedFraction, primarySweepDeg, oppositeSweepDeg)` | `auto/BaseAuto.java` & derived classes | Auto | Angular sweep behavior while searching for the goal tag. | Each auto class chooses the opening direction, turn speed fraction, and sweep limits; adjust in the route that owns the scan. Leave `oppositeSweepDeg` empty to hold at the primary limit, pass `0` to return to center, use positive values to cross zero, or negative values to stay on the opening side. `SharedRobotTuning.TURN_TWIST_CAP` and lock tolerance still provide the global caps. | `ScanDirection.CW, 0.25, 90°, 30°` crosses center by 30°; use `-45°` to bounce between 90° and 45° on the opening side. |
| `BaseAuto.readyLauncherUntilReady(timeoutMs)` | `auto/BaseAuto.java` & derived classes | Auto | Spin-up guard while waiting for readiness + settle. | Derived classes set the timeout; RPM tolerance and settle time come from `SharedRobotTuning`, and volley cadence is still passed per `AutoSequence.fire(...)`. | Extend to `3200 ms` if flywheel needs longer to reach speed. |
| `BaseAuto.driveForwardInches(distance)` & other `drive` helpers | `auto/Auto_*` routines | Auto | Distances for stage positioning. | Change inside the routine that owns the move. Power cap comes from `SharedRobotTuning.DRIVE_MAX_POWER`. | Shorten setup drive to `30"` for closer standoff. |

**Note:** AutoSequence `move(...)` calls now interpret the heading argument as **relative to the robot’s current facing** (0° = drive straight ahead, 180° = drive straight backward) before converting it to a field heading internally. No tunables changed for this behavior; adjust sequence arguments directly when building routes.

## Intake power & driver defaults

| Parameter | Set in | Impacts | What it controls | Tune here vs. elsewhere | Sample adjustments |
| --- | --- | --- | --- | --- | --- |
| `IntakeTuning.FILL_POWER` | `config/IntakeTuning.java` | Both | Motor power while the shaft is freely filling. | Single source for Auto + TeleOp. | `0.9` for aggressive pickup; `0.7` to soften first contact. |
| `IntakeTuning.PACKING_POWER` | `config/IntakeTuning.java` | Both | Reduced power applied once the first ball hits the firing column so the stack compresses without spiking current draw. | Shared by all modes; keep a small drop from FILL_POWER so compression remains positive. | `0.75` default; lower toward `0.6` if the column squishes too hard. |
| `IntakeTuning.HOLD_POWER` / `HOLD_PULSE_PERIOD_MS` / `HOLD_PULSE_ON_MS` | `config/IntakeTuning.java` | Both | Pulsed hold applied in the SATURATED state to keep three balls under pressure without a constant stall. | Tune here; setting the period ≤ 0 runs steady HOLD_POWER instead of pulsing. | `0.35` with a 120 ms ON / 400 ms period works well; shorten the period for stiffer columns. |
| `IntakeTuning.FEED_ACTIVE_HOLD_POWER` | `config/IntakeTuning.java` | Both | Alternate low power asserted whenever `feed.isFeedCycleActive()` so launcher volleys do not stack extra load. | Intake automatically blends to this value; raise only if balls roll backwards during feeds. | `0.15` keeps light pressure; drop toward `0.0` to turn the intake fully off while shooting. |
| `IntakeTuning.REVERSE_POWER` | `config/IntakeTuning.java` | Both | Power applied during the latched reverse run used to clear jams. | Shared across modes; keep high enough to eject debris without overspeeding. | `0.6` to back balls out briskly; lower if the linkage chatters when reversing. |
| `IntakeTuning.SAMPLE_INTERVAL_MS` / `FREE_DELTA_TICKS` / `CONTACT_DELTA_TICKS` / `STALL_DELTA_TICKS` | `config/IntakeTuning.java` | Both | Encoder sampling cadence and motion thresholds that classify FREE FLOW vs. PACKING vs. JAM. | Adjust here so tick deltas reflect your gearbox; Auto + TeleOp share the same classifier. | `50 ms` samples with `20/5/2` tick thresholds match goBILDA 5202 + 45° ramp. |
| `IntakeTuning.PACKING_RANGE_TICKS` | `config/IntakeTuning.java` | Both | Total encoder travel allowed after first contact before the column is considered SATURATED. | Tune once per robot; keep large enough for three balls. | `650` ticks ≈ three artifacts on our drivetrain; increase if hardware needs more travel. |
| `IntakeTuning.STALL_DEBOUNCE_SAMPLES` / `JAM_RECOVERY_PAUSE_MS` | `config/IntakeTuning.java` | Both | How many consecutive stall-level samples are required before declaring a true JAM (even if packing hasn’t yet reached `PACKING_RANGE_TICKS`) and how long to rest before retrying. | Shared across modes; raising the debounce count reduces false jams. | `8` samples with a `250 ms` pause caught jams without slowing TeleOp fills. |
| `TeleOpDriverDefaults.INTAKE_ENABLED` | `config/TeleOpDriverDefaults.java` | TeleOp | Whether TeleOp starts with intake running. | TeleOp-only driver preference. | Defaults to `true`; safeInit keeps the motor idle during INIT if you prefer to toggle manually. |
| `TeleOpDriverDefaults.AUTO_SPEED_ENABLED` | `config/TeleOpDriverDefaults.java` | TeleOp | Whether AutoSpeed is enabled at init. | TeleOp only; Auto uses AutoSpeed automatically when requested. | Defaults to `true`; flip to `false` if drivers want to spool manually after START. |
| `TeleOpDriverDefaults.AUTO_AIM_ENABLED` | `config/TeleOpDriverDefaults.java` | TeleOp | Whether AutoAim starts enabled. | TeleOp only. | `true` when drivers rely on aim assist immediately. |
| `TeleOpDriverDefaults.AUTO_STOP_TIMER_ENABLED` / `AUTO_STOP_TIMER_TIME_SEC` | `config/TeleOpDriverDefaults.java` | TeleOp | Optional end-of-match safety timer. | No impact on Auto; tune per event policy. | Enable with `115 s` to stop before endgame. |
| `TeleOpDriverDefaults.SLOWEST_SPEED` | `config/TeleOpDriverDefaults.java` | TeleOp | Minimum drive speed with brake trigger held. | TeleOp-only brake scaling. | `0.15` for tight endgame alignment; `0.35` if too sluggish. |
| `TeleOpDriverDefaults.AUTO_AIM_LOSS_GRACE_MS` | `config/TeleOpDriverDefaults.java` | TeleOp | How long AutoAim remains latched after losing a tag. | TeleOp only. | `2500 ms` for faster manual fallback. |
| `TeleOpDriverDefaults.RPM_TEST_STEP` | `config/TeleOpDriverDefaults.java` | TeleOp | D-pad RPM step size in test mode. | TeleOp-only diagnostic; unrelated to Auto. | Change to `±25 RPM` for finer sweeps. |
| `TeleOpDriverDefaults.INTAKE_REVERSE_TAP_WINDOW_MS` | `config/TeleOpDriverDefaults.java` | TeleOp | Maximum window for detecting the RB triple-tap gesture that latches the intake in reverse until the next tap. | TeleOp-only; Auto does not watch the gesture. | `750 ms` default; shorten for more deliberate taps or lengthen if drivers miss the window. |

## Driver feedback (rumble & haptics)

| Parameter | Set in | Impacts | What it controls | Tune here vs. elsewhere | Sample adjustments |
| --- | --- | --- | --- | --- | --- |
| `TeleOpRumbleTuning.AIM_RUMBLE_ENABLED` | `config/TeleOpRumbleTuning.java` | TeleOp | Global enable for manual aim rumble. | TeleOp flips the shared `RumbleNotifier`; Auto never engages it. | Set `false` if haptics distract drivers. |
| `TeleOpRumbleTuning.AIM_THRESHOLD_DEG` | `config/TeleOpRumbleTuning.java` | TeleOp | Heading error threshold to start rumble. | Overrides `RumbleNotifier.thresholdDeg`. Tune here for TeleOp preference; Auto doesn’t rumble. | `1.5°` when drivers want earlier cues. |
| `TeleOpRumbleTuning.AIM_STRENGTH_MIN` / `AIM_STRENGTH_MAX` | `config/TeleOpRumbleTuning.java` | TeleOp | Strength bounds for aim rumble. | Override `RumbleNotifier` min/max. TeleOp only. | `0.05–0.80` for a wider range. |
| `TeleOpRumbleTuning.AIM_PULSE_MIN_MS` / `AIM_PULSE_MAX_MS` | `config/TeleOpRumbleTuning.java` | TeleOp | Pulse duration range for aim rumble. | Overrides notifier defaults. | `80–160 ms` for crisp pulses. |
| `TeleOpRumbleTuning.AIM_COOLDOWN_MIN_MS` / `AIM_COOLDOWN_MAX_MS` | `config/TeleOpRumbleTuning.java` | TeleOp | Cooldown range between pulses. | Overrides notifier defaults. | `60–240 ms` when cues feel too sparse. |
| `TeleOpRumbleTuning.TOGGLE_STRENGTH` / `TOGGLE_STEP_MS` / `TOGGLE_GAP_MS` | `config/TeleOpRumbleTuning.java` | TeleOp | Rumble feedback for mode toggles. | TeleOp-specific; does not touch shared notifier. | `0.6 strength` if controllers saturate; `90/60 ms` for snappier toggles. |
| `utils/RumbleNotifier.thresholdDeg` / `minStrength` / `maxStrength` / `minPulseMs` / `maxPulseMs` / `minCooldownMs` / `maxCooldownMs` | `utils/RumbleNotifier.java` | TeleOp (when not overridden) | Default rumble characteristics. | Immediately overwritten by TeleOp aim tunables above; edit here only if you need new global defaults before TeleOp touches them. | Raise defaults when using notifier for other features. |

## Controller interface & miscellaneous utilities

| Parameter | Set in | Impacts | What it controls | Tune here vs. elsewhere | Sample adjustments |
| --- | --- | --- | --- | --- | --- |
| `ControllerTuning.TRIGGER_EDGE_THRESH` | `config/ControllerTuning.java` | TeleOp | Trigger value treated as a button press. | Affects TeleOp trigger→button mappings. No overrides elsewhere. | `0.3` for lighter pulls; `0.6` for deliberate presses. |
| `TeleOpAllianceBase.aimRumbleEnabled` (see above) | `teleop/TeleOpAllianceBase.java` | TeleOp | Doubles as feedback toggle for miscellaneous alerts. | Keep aligned with other rumble settings. | — |
| `assist/AutoAimSpeed.enable()` seeds | `assist/AutoAimSpeed.java` | Both | Syncs helper fields with shared tuning when enabling AutoAim. | Pulls from `SharedRobotTuning`; if TeleOp overrides `InitialAutoDefaultSpeed`, also set `autoAimSpeed.initialAutoDefaultSpeed` to match. | Call `autoAimSpeed.initialAutoDefaultSpeed = 2400` after changing TeleOp copy. |

---

Whenever you change anything that touches distance, speed curves, or AprilTag alignment, re-validate Autonomous and TeleOp together so launcher RPM, drive odometry, and aiming assumptions stay consistent across the field.
